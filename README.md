# Эволюционная симуляция существ

## Что происходит на экране?

### Основная область (центр экрана)
- **Цветные круги** = существа (каждый вид имеет свой цвет)
  - Яркость = уровень энергии (яркие = много энергии, тусклые = мало энергии)
  - Размер = размер туловища существа
  - Желтые круги вокруг = радиус зрения
  - Линии от туловища = ноги и руки существа

- **Зеленые круги** = еда
  - Существа могут есть еду для восстановления энергии

### Статистика (левый верхний угол)
Цветные полосы показывают текущее состояние симуляции:

1. **Красная полоса** = Количество видов
   - Начинается с 1 вида
   - Увеличивается при видообразовании

2. **Синяя полоса** = Популяция (количество живых существ)
   - Показывает сколько существ сейчас живы

3. **Зеленая полоса** = Средняя энергия существ
   - 100% = все существа полны энергии
   - 0% = все существа умирают от голода

4. **Желтая полоса** = Количество еды на арене
   - Больше еды = больше шансов выжить

5. **Белая полоса** = Скорость времени
   - Показывает текущую скорость симуляции

### График эволюции (правый нижний угол)
- **Красная линия** = количество видов по времени
- **Синяя линия** = размер популяции по времени
- Показывает историю развития экосистемы

### Ползунок скорости (правый верхний угол)
- Перетаскивайте мышкой для изменения скорости симуляции
- Влево = медленнее, вправо = быстрее

## Как работает эволюция?

1. **Начало**: Все существа начинают как один вид (ID=0) с одинаковыми генами

2. **Жизнь существ**:
   - Двигаются к еде (зеленые круги)
   - Тратят энергию на движение и метаболизм
   - Восстанавливают энергию, поедая еду
   - Стареют со временем

3. **Размножение**:
   - Взрослые существа с достаточной энергией могут размножаться
   - Потомок наследует гены от обоих родителей
   - **При каждом размножении происходят мутации!**

4. **Что может эволюционировать (мутации)**:

   **Части тела:**
   - Размер туловища (больше/меньше)
   - Форма туловища (круг/овал)
   - Количество ног (1-6 ног)
   - Количество сегментов в ногах
   - Длина и ширина сегментов ног
   - Количество рук (0-4 руки)
   - Количество сегментов в руках
   - Длина и ширина сегментов рук
   - Цвет туловища

   **Органы чувств:**
   - Появление новых органов (зрение, слух, обоняние, осязание)
   - Развитие органов (от рудиментарных до высокоразвитых)
   - Изменение радиуса действия
   - Изменение чувствительности
   - Отмирание неиспользуемых органов

   **Мышцы:**
   - Количество мышц
   - Сила мышц
   - Скорость сокращения
   - Эффективность преобразования энергии
   - Выносливость

   **Метаболизм:**
   - Базовая скорость метаболизма
   - Эффективность преобразования энергии
   - Эффективность пищеварения

   **Нейронная сеть:**
   - Добавление новых связей между нейронами
   - Добавление новых скрытых нейронов
   - Изменение весов связей
   - Топология сети адаптируется к органам чувств

5. **Видообразование**:
   - Когда геномы становятся достаточно разными, появляется новый вид
   - Разные виды имеют разные цвета
   - Разные виды не могут скрещиваться
   - Каждый новый вид = новая эволюционная ветвь

6. **Адаптация органов чувств к среде**:
   - В темноте зрение деградирует, обоняние улучшается
   - В шумной среде слух адаптируется
   - Осязание улучшается в темноте (компенсация)

7. **Естественный отбор**:
   - Существа с лучшими генами живут дольше и размножаются чаще
   - Плохие гены исчезают, хорошие закрепляются
   - Эффективные комбинации генов распространяются в популяции

## Что наблюдать?

- **Разнообразие видов**: Смотрите как один вид разделяется на множество (красная линия на графике)
- **Эволюция форм**: 
  - Размеры существ меняются (больше/меньше)
  - Количество ног и рук меняется
  - Формы тел становятся разными
- **Появление органов чувств**: Существа развивают зрение, слух, обоняние, осязание
- **Адаптация**: Органы чувств адаптируются к среде (в темноте зрение хуже, обоняние лучше)
- **Конкуренция**: Виды конкурируют за еду и пространство
- **Вымирание**: Виды с плохими генами могут вымереть
- **Эволюция поведения**: Нейросети меняются, поведение становится сложнее
- **Разнообразие метаболизма**: Некоторые существа тратят больше энергии, но быстрее двигаются

## Управление

- **Левый клик мыши**: Спавнит 3 куска еды в месте клика (с небольшим разбросом)
- **Мышь на ползунке**: Перетаскивайте для изменения скорости времени
- **Закрытие окна**: Выход из программы

## Технические детали

- **NEAT нейросети**: Каждое существо управляется нейронной сетью
- **Динамическая топология**: Нейросети могут изменяться (добавлять/удалять связи)
- **Биомеханика**: Реалистичная физика движения с суставами и рычагами
- **Метаболизм**: Энергетический баланс как в реальной биологии
- **Органы чувств**: Зрение (raycasting), слух, обоняние (диффузия), осязание

## Советы

- Наблюдайте за графиками - они показывают общую динамику
- Обратите внимание на цвета - каждый вид имеет свой цвет
- Следите за энергией - если все существа тусклые, они умирают
- Увеличьте скорость времени для ускорения эволюции
- Дайте симуляции время - эволюция требует времени!
